---
title: XMeta 模型
description: 了解 Nop 平台中 XMeta 的模型结构
authors:
  - flytreleft
---

import Header from '@site/docs/\_header.md';

<Header />

XMeta 为 Nop 平台提供的标准化的**对象元数据**模型，所有需要定义对象结构的地方都统一使用 XMeta 模型来定义。

> XMeta 和 XDef 可以相互转换。XDef 对应于 XML 结构，而 XMeta 对应于对象属性结构。

<!-- https://plantuml.com/object-diagram -->

```plantuml
object "/nop/schema/schema/schema-node.xdef" as schema_node {
}
object "/nop/schema/schema/obj-schema.xdef" as obj_schema {
}
object "/nop/schema/xmeta.xdef" as xmeta {
}

xmeta -down-> obj_schema: xdef:ref 引用
obj_schema -down-> schema_node: xdef:ref 引用
```

> - `xdef:name` 代表节点对应的 Java 类名；
> - `xdef:ref` 代表当前节点类的基类；

## XMeta 结构 {#structure}

| 属性 | 属性类型 | 属性名 | 必填 | 说明 |
| --- | ------- | ---- | ---- | --- |
| displayName | string | 显示名 | 否 | 方便人阅读 |
| displayProp | string | 显示属性 | 否 | 指定用于显示对象名称的_对象属性_ |
| entityName | class-name | ORM 实体类名 | 否 | 仅在映射了 ORM 实体时指定 |
| primaryKey | word-set | ORM 实体主键列表 | 否 | 逗号分隔的作为 ORM 实体主键的_对象属性_。只能包含映射了 ORM 表字段的_对象属性_ |
| [keys/key](#attr_keys_key) | `ObjKeyModel` | ORM 实体唯一键列表 | 否 | 在新增或修改 ORM 实体时，将自动检查该唯一键不冲突 |

### 实体唯一键列表：`keys/key` {#attr_keys_key}

| 属性 | 属性类型 | 属性名 | 必填 | 说明 |
| --- | ------- | ---- | ---- | --- |
| displayName | string | 唯一键显示名 | 否 | 方便人阅读 |
| name | string | 唯一键名 | 是 | 对应数据库层面的 `UNIQUE KEY` 名称，仅包含字母、数字和下划线 |
| props | word-set | 唯一键属性列表 | 是 | 逗号分隔的具有唯一性约束的_对象属性_。只能包含映射了 ORM 表字段的_对象属性_ |
