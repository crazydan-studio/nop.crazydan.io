---
title: 标准域类型
description: 关于标准域类型的字典项说明
authors:
  - flytreleft
---

import {Table, TRow, TCol} from '@site/src/components/Table';
import Header from '@site/docs/\_header.md';

> - Nop 内置标准域字典项的解析和校验在 `SimpleStdDomainHandlers` 中实现；

<Header />

<Table head={['字典值', '字典名称', '说明']}>

<!-- -->

<TRow><TCol id="opt_any"> any </TCol>
<TCol> 任意 </TCol><TCol>

任意对象类型

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_string"> string </TCol>
<TCol> 字符串 </TCol><TCol>

字符串类型

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_bytes"> bytes </TCol>
<TCol> 二进制字节数组 </TCol><TCol>

二进制字节数组类型。作为字符串存储时使用 base64 编码

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_date"> date </TCol>
<TCol> 日期 </TCol><TCol>

格式为 `yyyy-MM-dd`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_time"> time </TCol>
<TCol> 时间 </TCol><TCol>

格式为 `HH:mm:ss`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_datetime"> datetime </TCol>
<TCol> 日期时间 </TCol><TCol>

格式为 `yyyy-MM-dd HH:mm:ss`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_timestamp"> timestamp </TCol>
<TCol> 时间戳 </TCol><TCol>

格式为 `yyyy-MM-dd HH:mm:ss.zzz`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_generic_type"> generic-type </TCol>
<TCol> Java 泛型 </TCol><TCol>

Java 泛型类型，解析得到 `IGenericType` 类型。
例如 `List<String>`、`Map<String, io.nop.auth.entity.NopAuthUser>` 等。
除了 Java 内置的 `String`/`Object`/`List`/`Map` 等类型之外，
其他类名都需要使用全类名引用

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_class_name"> class-name </TCol>
<TCol> Java 类名 </TCol><TCol>

由 [package-name](#opt_package_name)
和 [java-name](#opt_java_name) 组成，并以 `.` 分隔

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_package_name"> package-name </TCol>
<TCol> Java 包名 </TCol><TCol>

由 `.` 号分隔，不包含除 `$` 之外的特殊字符。
按照 Java 规范一般应为全小写字符

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_java_name"> java-name </TCol>
<TCol> Java 标识 </TCol><TCol>

一般为中英文字母和数字、`_` 组成，与
[var-name](#opt_var_name) 不同的是 `java-name` 允许包含字符 `$`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_var_name"> var-name </TCol>
<TCol> Java 变量名 </TCol><TCol>

一般为中英文字母和数字、`_` 组成，不包含字符 `.` 和 `$`。
只能以 `_` 或字母开头

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_prop_name"> prop-name </TCol>
<TCol> Java 属性名 </TCol><TCol>

一般为中英文字母和数字、`_` 组成，不包含字符 `.` 和 `$`。
只能以 `_` 或字母开头

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_prop_path"> prop-path </TCol>
<TCol> Java 复合属性名 </TCol><TCol>

由一个或者多个 [prop-name](#opt_prop_name) 构成，并通过字符 `.` 来分隔

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_conf_name"> conf-name </TCol>
<TCol> 配置变量名 </TCol><TCol>

由英文字母、数字、`_`、`-` 和 `.` 构成，
不包含 `$` 等特殊字符

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_xml_name"> xml-name </TCol>
<TCol> XML 标签/属性名 </TCol><TCol>

由英文字母、数字、`_`、`-`、`:` 和 `.` 构成，不包含 `$` 等特殊字符。
名字只能以 `_` 或字母开头，并且 `-`、`:`、`.` 不能连续出现。
校验逻辑见 `StringHelper#isValidXmlName`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_xpl"> xpl </TCol>
<TCol> Xpl 片段 </TCol><TCol>

其输出模式 `outputMode` 为 `none`，不允许副作用输出。
其内容最终编译成 `IEvalAction` 类型

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_xpl_node"> xpl-node </TCol>
<TCol> 输出 XNode 的 Xpl 片段 </TCol><TCol>

其输出模式 `outputMode` 为 `node`，执行的过程中会输出 `XNode` 节点。
其内容最终编译成 `IXNodeGenerator` 类型

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_xpl_fn"> xpl-fn </TCol>
<TCol>  </TCol><TCol>

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_csv_set"> csv-set </TCol>
<TCol> 逗号分隔的字符串集合 </TCol><TCol>

以 `,` 分隔的字符串集合，最终转换为 `Set<String>` 类型。
若逗号之间为空白，则该项将被忽略，同时，分隔的每一项都会去掉首尾的空白。
处理逻辑见 `SimpleStdDomainHandlers.CsvSetType#parseProp`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_multi_csv_set"> multi-csv-set </TCol>
<TCol> 含与/或关系的字符串集合 </TCol><TCol>

以 `,` 和 `|` 分隔的字符串集合，如 `a,b|c|e,f`，最终转换为
`List<Set<String>>` 类型，用以表达简单的`与`（`,` 列表）和`或`（`|` 列表）的关系，
`List<?>` 内的元素之间为`或`的关系，`Set<?>` 内的元素之间为`与`的关系。
处理逻辑见 `SimpleStdDomainHandlers.MultiCsvSetType#parseProp`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_word_set"> word-set </TCol>
<TCol> 逗号分隔的字符串集合 </TCol><TCol>

与 [csv-set](#opt_csv_set) 要求相同，
只是，其不能存在包含空白字符的项，否则，将会抛出校验异常。
校验逻辑见 `SimpleStdDomainHandlers.WordSetType#isValidItem`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_tag_set"> tag-set </TCol>
<TCol> 逗号分隔的字符串集合 </TCol><TCol>

与 [csv-set](#opt_csv_set) 要求相同。
校验逻辑见 `SimpleStdDomainHandlers.TagSetType#parseProp`

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_filter_bean"> filter-bean </TCol>
<TCol> 过滤条件 </TCol><TCol>

由过滤运算符标签组成的过滤条件，其为 xml 结构，并且条件可嵌套，如：

```xml
<and>
  <eq name="status" value="1" />
  <gt name="age" value="10" />
</and>
```

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_field_selection"> field-selection </TCol>
<TCol> GraphQL 字段选择集合 </TCol><TCol>

[GraphQL Field Selection](https://www.graphql-java.com/documentation/field-selection/)
集合，用于指定可返回的字段，如：

```graphql
userId, userName, status, relatedRoleList{ roleId, roleName, permissionList{ id, name } }
```

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_"> </TCol>
<TCol> </TCol><TCol>

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_"> </TCol>
<TCol> </TCol><TCol>

</TCol></TRow>

<!-- -->

<TRow><TCol id="opt_"> </TCol>
<TCol> </TCol><TCol>

</TCol></TRow>

</Table>
